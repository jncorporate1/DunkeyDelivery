@model DunkeyDelivery.Areas.User.Models.AddressViewModel
<div class="content-div clearfix" id="add_address" style="display:none;">

    <div class="search-bar clearfix">
        <h4>Add New ADDRESS</h4>
    </div>


    <div class="content-main clearfix">
        @using (Ajax.BeginForm("AddAddress", "Profile", new AjaxOptions { OnSuccess = "addressCustomMessageSuccess", OnFailure = "addressCustomMessage" }))
        {
            @Html.AntiForgeryToken()
        <form>
            <ul class="text-fields">


               
                <li class="full-field">
                    @Html.TextBoxFor(x => x.FullAddress, new { name = "FullAddress", @placeholder = "Full Address" })
                    @Html.ValidationMessageFor(m => m.FullAddress, "", new { @class = "text-danger error" })
                </li>
                <li class="no-margin-left">
                    @Html.TextBoxFor(x => x.City, new { name = "City", @placeholder = "City" })
                    @Html.ValidationMessageFor(m => m.City, "", new { @class = "text-danger error" })
                </li>
                <li>
                    @Html.TextBoxFor(x => x.State, new { name = "State", @placeholder = "State" })
                    @Html.ValidationMessageFor(m => m.State, "", new { @class = "text-danger error" })
                </li>
                <li class="no-margin-left" style = "margin-bottom: -9px;">
                    @Html.TextBoxFor(x => x.Telephone, new { name = "Telephone", @placeholder = "Phone Number", })
                    @Html.ValidationMessageFor(m => m.Telephone, "", new { @class = "text-danger error" })
                </li>


                <li>
                    @Html.TextBoxFor(x => x.PostalCode, new { name = "PostalCode", @placeholder = "Postal Code" })
                    @Html.ValidationMessageFor(m => m.PostalCode, "", new { @class = "text-danger error" })
                </li>
                <li style="width:100%;margin-left: 0px;" >
                <span class="">
                    @*<input type="checkbox" id="is_primary" name="IsPrimary" class="margin-from-left" />*@
                    <div class="checkbox" style="display:flex;">
                        @Html.CheckBoxFor(m => m.IsPrimary,new { @style="display:block !important;margin-left:0px !important;margin-right:10px;margin-top:3px;" , @class= "margin-from-left" })
                        <label for="IsPrimary" style="font-size: 15px;font-weight:500;" ><span></span>Primary Address</label>
                    </div>
                 
                </span>
                </li>
                <li>
                    <input type="submit" value="ADD ADDRESS" />
                    <div id="SuccessNotifications" style="display: none;margin-top: 11px;">
                        <p id="successMessage" style="color:green;display:none;">New address saved successfully.</p>

                    </div>
                    <span id="SuccessNotifications"></span>
                    <div id="ErrorNotifications" style="display: none;margin-top: 11px;">
                        <p id="ErrorMessage" style="color:red;"></p>

                    </div>
                </li>
                

            </ul>
        </form>
        }
    </div>
</div>
<script>
    function addressCustomMessage(a,c,d) {
       // var message = arguments[0].responseText.substr(arguments[0].responseText.indexOf("**basra*") + 8, (arguments[0].responseText.indexOf("*basra**") - 8) - arguments[0].responseText.indexOf("**basra*"))
        d = d.replace("**basra*","").replace("*basra**","");
        $("#ErrorMessage").text(d);
        $("#ErrorNotifications").show();
        $("#ErrorMessage").show().delay(3000).fadeOut();
    }
    function addressCustomMessageSuccess() {
     
        $("#SuccessNotifications").show();
        $("#successMessage").show().delay(3000).fadeOut();
    }


</script>


@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/jqueryval")